<!doctype html>

<html lang="pl">
<head>
<title>Programowanie Gier 2D Mateusz J.</title>
  <meta charset="utf-8">
  <meta name="description" content="A simple HTML5 Template for new projects.">
  <meta name="author" content="SitePoint">
</head>

<body>
    <a href="index.html">Wroc</a><br/>

    <p> 1. Koło zmienia swój kolor co sekundę z zielonego na niebieski </p>
    <canvas id="circle_1" width="800" height="600" style="border:2px solid #d3d3d3;"> </canvas><br />
    <p> 2. Koło zmienia swój kolor co sekundę z zielonego na niebieski płynnie na zasadzie gradientu </p>
    <canvas id="circle_2" width="800" height="600" style="border:2px solid #d3d3d3;"> </canvas>
    <p> 3. Koło zmienia swój kolor co sekundę z zielonego na niebieski płynnie na zasadzie gradientu jednocześnie płynnie odbijając się od podłoża </p>
    <canvas id="circle_3" width="800" height="600" style="border:2px solid #d3d3d3;"> </canvas>
    <script>
        // helper functions
        function setColor(ctx, color) {
            ctx.fillStyle = color;
            ctx.fill();
        }
        function rgb(r, g, b){
            return "rgb("+r+","+g+","+b+")";
        }
        function smoothColorChange(ctx) {
            var diff = 0;
            var increase = true;
            var increaseRatio = 5;
            var numberOfSteps = 255 / increaseRatio;
            setInterval(function changebackground(){
                setColor(ctx, rgb(0, 255 - diff, diff));
                increase ? diff+=increaseRatio : diff-=increaseRatio;
                if (diff > 255 - increaseRatio)
                {
                    increase = false;
                }
                if (diff < increaseRatio)
                {
                    increase = true;
                }
            },1000 / numberOfSteps);
        }
        function bounce(c, ctx, radius) {
            var diff = 0;
            var increase = true;
            var increaseRatio = 5;
            var numberOfSteps = 255 / increaseRatio;
            setInterval(function move(){
                c.width = c.width;
                ctx.arc(c.offsetWidth / 2.0, c.offsetHeight / 3.0 + diff, radius, 0, 2 * Math.PI);
                ctx.stroke();
                setColor(ctx, rgb(0, 255 - diff, diff));
                increase ? diff+=increaseRatio : diff-=increaseRatio;
                if (diff > 255 - increaseRatio)
                {
                    increase = false;
                }
                if (diff < increaseRatio)
                {
                    increase = true;
                }
            },1000 / numberOfSteps);
        }

        // Draw circle 1
        var c = document.getElementById("circle_1");
        var ctx = c.getContext("2d");
        ctx.beginPath();
        var radius;
        if (c.offsetWidth < c.offsetHeight) {
            radius = c.offsetWidth / 4.0;
        }
        else {
            radius = c.offsetHeight / 4.0;
        }
        ctx.arc(c.offsetWidth / 2.0, c.offsetHeight / 2.0, radius, 0, 2 * Math.PI);
        ctx.stroke();

        // Set background changer
        var colorInc = 0;
        var colors =[ "green", "blue"];
        setColor(ctx, colors[colorInc++]);
        setInterval(function changebackground(){setColor(ctx, colors[colorInc]); if (++colorInc >= colors.length){colorInc = 0;}},1000);

        // Draw circle 2
        var c2 = document.getElementById("circle_2");
        var ctx2 = c2.getContext("2d");
        ctx2.beginPath();
        var radius2;
        if (c2.offsetWidth < c2.offsetHeight) {
            radius2 = c2.offsetWidth / 4.0;
        }
        else {
            radius2 = c2.offsetHeight / 4.0;
        }
        ctx2.arc(c2.offsetWidth / 2.0, c2.offsetHeight / 2.0, radius2, 0, 2 * Math.PI);
        ctx2.stroke();
        setColor(ctx2, 'rgb(0, 255, 0)');
        smoothColorChange(ctx2)

        // Draw circle 3
        var c3 = document.getElementById("circle_3");
        var ctx3 = c3.getContext("2d");
        ctx3.beginPath();
        var radius3;
        if (c3.offsetWidth < c3.offsetHeight) {
            radius3 = c3.offsetWidth / 4.0;
        }
        else {
            radius3 = c3.offsetHeight / 4.0;
        }
        ctx3.arc(c3.offsetWidth / 2.0, c3.offsetHeight / 2.0, radius3, 0, 2 * Math.PI);
        ctx3.stroke();
        setColor(ctx3, 'rgb(0, 255, 0)');
        bounce(c3, ctx3, radius3);
    </script>
</body>
</html>
